WutongTree is a AI hosting chat room for humans to share ideas, thoughts and life. 

| Microservice                                        | Purpose & Responsibilities                                                                                                                                                                                                                                                                                                     | Suggested Protocols                                                                                                  |
| --------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------- |
| **Auth & Identity Service**                         | Handles user sign‑up/log‑in, password reset, social‑auth integration and voice‑biometric verification. Generates JWT/OAuth tokens for other services.                                                                                                                                                                          | REST/GraphQL for account operations; gRPC for internal services.                                                     |
| **User Profile Service**                            | Stores basic demographics, preferences (orientation, relationship goals), onboarding responses and match history. Exposes CRUD APIs.                                                                                                                                                                                           | REST/GraphQL.                                                                                                        |
| **Voice Capture & STT Service**                     | Captures streaming audio from the mobile app, handles microphone permissions and quality checks. Sends audio to a speech‑to‑text pipeline. May call third‑party STT APIs or host an open‑source model. Returns transcripts and raw audio features (pitch, tone, emotion).                                                      | WebRTC or WebSocket for real‑time audio streaming from clients; gRPC/REST internally.                                |
| **Personality & Preference Analysis Service**       | Takes transcripts and audio features, applies natural‑language processing and audio analytics to infer personality traits (e.g., openness, empathy), emotional range, and communication style. Outputs structured vectors for matchmaking.                                                                                     | gRPC with Protocol Buffers for efficient data transfer.                                                              |
| **Matchmaking Service**                             | Central recommendation engine. Ingests user traits and preferences, performs compatibility scoring (rule‑based filters + deep learning), and returns ranked candidate matches. Incorporates psychological flexibility metrics (e.g., Harmonizer research). Limits the number of daily/weekly matches to reduce fatigue.        | gRPC/REST APIs. Optionally uses message queues (e.g., Kafka) for heavy batch processing.                             |
| **Real‑Time Matching & Room Management Service**    | Manages live pairing sessions. Accepts match proposals from the matchmaking service, validates availability and user consent, allocates a “room” for the session. Supports voice‑only or video options.                                                                                                                        | WebSocket/gRPC for low‑latency communications; REST endpoints for session management.                                |
| **MoMo Conversation Host Service (AI Facilitator)** | Embeds a large language model fine‑tuned for dating conversations. Initiates onboarding questions, breaks the ice with games/jokes, keeps conversations flowing, monitors for awkward pauses, and ensures a respectful tone. Communicates via voice synthesis or text. Interacts with moderation service to handle violations. | Real‑time streaming via WebSocket or gRPC bi‑directional streams; asynchronous REST endpoints for session summaries. |
| **Real‑Time Communication Service**                 | Implements audio/video streaming between users and MoMo using WebRTC. Handles NAT traversal, codec negotiation, and media relays (TURN/STUN). Integrates with the host service to allow MoMo to join the call as a virtual participant.                                                                                        | WebRTC signalling over WebSocket; ICE servers for connectivity.                                                      |
| **Content Moderation & Safety Service**             | Scans messages/transcripts in real time to detect hate speech, harassment, or distress. Uses classification models and potentially human reviewers. Notifies MoMo or ends sessions if thresholds are exceeded. Manages user blocking/reporting.                                                                                | Streaming via gRPC/WebSocket for real‑time analysis; REST for reports.                                               |
| **Feedback & Learning Service**                     | Collects post‑interaction feedback from users and MoMo. Updates user profiles with likes/dislikes, collects qualitative ratings about match quality, and feeds data back to the analysis and matchmaking models for continuous improvement.                                                                                    | REST/GraphQL; asynchronous message bus (Kafka) to feed ML pipelines.                                                 |
| **Notification Service**                            | Sends push notifications, emails, or SMS about new matches, upcoming sessions and reminders.                                                                                                                                                                                                                                   | REST with integration to third‑party notification gateways (Firebase Cloud Messaging, Twilio).                       |
| **Payment & Subscription Service** (optional)       | Manages billing, subscription tiers, and pay‑per‑match transactions if the business model requires it. Integrates with external payment providers.                                                                                                                                                                             | REST with secure payment tokens.                                                                                     |


